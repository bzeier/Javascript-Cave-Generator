<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<h1>Javascript Cave Generator</h1>
<canvas id="map" width="1000" height="1000"></canvas>
<script>
    const canvas = document.getElementById("map");
    const ctx = canvas.getContext("2d");
    const gridSize = 16;
    let mapArray = [];
    let mapSize = 100;


    FillMap(0);
    DrawMap();
    GenerateGrid();

    function GenerateGrid(){
        for(var x=0;x<mapSize;x++){
            for(var y=0;y<mapSize;y++){
                ctx.beginPath();
                ctx.moveTo(x*gridSize,y*gridSize);
                ctx.lineTo(x+1*gridSize,y*gridSize);
                ctx.moveTo(x*gridSize,y*gridSize);
                ctx.lineTo(x*gridSize,y+1*gridSize);
                ctx.strokeStyle = "black";
                ctx.stroke();
            }
        }
    }

    function DrawCell(value, posX, posY){

        if(value == 0){
            ctx.fillStyle = "white";
        }

        if(value == 1){
            ctx.fillStyle = "grey";
        }

        ctx.beginPath();
        ctx.rect(posX*gridSize,posY*gridSize,posX*gridSize + gridSize,posY*gridSize + gridSize);
        //console.log("value: " + value, "position: " + posX + ", " + posY);
        ctx.fill();
        
    }

    function FillMap(value){
        for(var x=0;x<mapSize;x++)
        {
            mapArray[x] = [];
            for(var y=0;y<mapSize;y++)
            {
                mapArray[x][y] = 1;
                if(x == 15 && y ==15) mapArray[x][y] = 0;
                //console.log("x:" + x + " y: "+ y + " map = " + mapArray[x][y]);
            }
        }
    }

    function DrawMap(){
        for(var x=0;x<mapSize;x++)
        {
            for(var y=0;y<mapSize;y++)
            {
                console.log("x:" + x + " y: "+ y + " map = " + mapArray[x][y]);
                DrawCell(mapArray[x][y],x,y);
            }
        }
    }
</script>

<style>
    canvas {
      border: 1px solid black;
    }
  </style>
</body>
</html>